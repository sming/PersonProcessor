<html><head><title>Cyrus Deliverable Notes</title><style type="text/css">ol{margin:0;padding:0}p{margin:0}.c1{padding-left:0pt;direction:ltr;margin-left:72pt}.c12{color:#666666;font-size:12pt;font-weight:bold}.c4{padding-left:0pt;direction:ltr;margin-left:108pt}.c14{list-style-type:circle;margin:0;padding:0}.c3{padding-left:0pt;direction:ltr;margin-left:36pt}.c10{list-style-type:lower-latin;margin:0;padding:0}.c7{list-style-type:decimal;margin:0;padding:0}.c0{list-style-type:disc;margin:0;padding:0}.c13{list-style-type:lower-roman;margin:0;padding:0}.c9{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c16{font-size:10pt;font-family:Verdana}.c8{color:#1155cc;text-decoration:underline}.c6{color:inherit;text-decoration:inherit}.c15{height:11pt}.c2{color:#222222}.c11{background-color:#ffffff}.c5{direction:ltr}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:Georgia;padding-bottom:4pt}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:Arial;padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:Arial;padding-bottom:2pt}</style></head><body class="c9"><h2 class="c5"><a name="h.9aqqpbmz2m9o"></a><span>Code Exercise</span></h2><h3 class="c5"><span>Intro</span></h3><p class="c5"><span>This brief doc explains the observations, design decisions, assumptions and approach taken.</span></p><p class="c5"><span>&ldquo;ASSUMPTION&rdquo; denotes an assumption that was made (typically about the input)</span></p><h3 class="c5"><a name="h.sp8o8l3skoj5"></a><span>Observations</span></h3><ol class="c0" start="1"><li class="c3"><span>the input files contain different fields (</span><span class="c8"><a class="c6" href="http://goo.gl/Brky8">http://goo.gl/Brky8</a></span><span>&nbsp;) both relative to one another and relative to the required output. Since the output doesn&rsquo;t contain middle initial, we will not require it.</span></li><li class="c3"><span>the spec says &ldquo;</span><span class="c11 c16">You may assume that there are no separators in any of the properties themselves&rdquo; </span><span class="c11">but this doesn&rsquo;t bear out since comma.txt and pipe.txt both contain spaces, which is a separator. &nbsp;Hence pipe.txt and comma.txt will have the w/s stripped.</span></li><li class="c3"><span>since all files are suffixed .txt, we cannot deduce the file type this way. &nbsp;Instead we &ldquo;peek&rdquo; at the first line of the file, looking for a separator. &nbsp;We look for whitespace last since it&rsquo;s present in all files.</span></li></ol><h3 class="c5"><a name="h.5q20xirxy5qt"></a><span>Design</span></h3><ol class="c0" start="1"><li class="c3"><span>different factories (Abstract Factory Pattern) construct Person objects from the different file types. &nbsp;The invoking code doesn&rsquo;t know which factory it&rsquo;s using. &nbsp;The factory knows how to parse the input file.</span></li><li class="c3"><span>factory selection (i.e. determining the type of file) is encapsulated in a &ldquo;factory factory&rdquo;.</span></li></ol><h3 class="c5"><a name="h.2abfy0gdyjct"></a><span>Extension Points</span></h3><p class="c5"><span>An &ldquo;extension point&rdquo; is a construct which affords easy extension, in the mould of the &ldquo;Open-Closed principle&rdquo;.</span></p><ol class="c0" start="1"><li class="c3"><span>AbstractPersonFactory - subclass to add support for additonal file types e.g. .tsv</span></li><li class="c3"><span>Publisher - subclass to add support for additional output mechanisms e.g. GUI, remote file, http POST</span></li></ol><h3 class="c5"><a name="h.yprfpsndqbec"></a><span>Improvements</span></h3><ol class="c0" start="1"><li class="c3"><span class="c2">Person Factories should be a loose collection of policies. Then they can be assembled in any configuration to handle any kind of file. The policies would be:</span></li></ol><ol class="c14" start="1"><li class="c1"><span class="c2">date format</span></li><li class="c1"><span class="c2">whitespace</span></li><li class="c1"><span class="c2">separator</span></li></ol><ol class="c0" start="2"><li class="c3"><span class="c2">outputting code should be moved to new Class. This would make the driving class (PersonProcessor) more flexible and re-usable.</span></li></ol><h3 class="c5"><span>Operation</span></h3><ol class="c7" start="1"><li class="c3"><span class="c2">Get input filenames and flags</span></li><li class="c3"><span class="c2">if &ldquo;output-to-file&rdquo; flag is present, output to file instead of console</span></li><li class="c3"><span class="c2">For each file...</span></li><li class="c3"><span class="c2">Open file for reading only</span></li></ol><ol class="c10" start="1"><li class="c1"><span class="c2">Read first line ASSUMPTION: all subsequent lines are the same format.</span></li><li class="c1"><span class="c2">Search for &lsquo;,| &rsquo; (whitespace last). &nbsp;If none found, ERROR.</span></li><li class="c1"><span class="c2">Instantiate correct Person factory</span></li><li class="c1"><span class="c2">Factory Reads file line by line</span></li></ol><ol class="c13" start="1"><li class="c4"><span class="c2">splits out the data</span></li><li class="c4"><span class="c2">creates Person and adds to master list</span></li></ol><ol class="c7" start="5"><li class="c3"><span class="c2">for each sort ordering</span></li></ol><ol class="c10" start="5"><li class="c1"><span class="c2">sort master list</span></li><li class="c1"><span class="c2">output master list</span></li></ol><ol class="c7" start="6"><li class="c3"><span class="c2">END</span></li></ol><p class="c5 c15"><span></span></p><h3 class="c5"><a name="h.pmk3r9m9cxyk"></a><span>Tests</span></h3><ol class="c0" start="1"><li class="c3"><span>CSVTest - exercises .csv file processing at the individual field level</span></li><li class="c3"><span>OutputTest - empirical output test that compares the actual output to the supplied model output by doing a textual char-by-char comparison</span></li></ol></body></html>